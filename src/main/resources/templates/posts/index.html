<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:replace="partials/partials.html :: head('Post Index')"></head>
<body>
<nav th:replace="partials/partials.html :: nav"></nav>
<h1 style="text-align: center">Here are All the Post</h1>

<div style="text-align: end"  sec:authorize="isAuthenticated()">
<tr th:each="prod,iterStat : ${posts}" th:if="${iterStat.index} <1">
    <td>
 <button  type="button" class="btn btn btn-dark btn-sm"><a th:href="@{/posts/user-profile/{id}(id=${prod.user.id})}">Your Profile Page</a></button>
    </td>
</tr>
</div>


<!--<ul>-->
<!--    <li   th:each="post : ${posts}">-->
<!--        <p th:text="${post.title} + ' title ' + ${post.body} + ' body'"></p>-->
<!--    </li>-->

<!--</ul>-->

<!--<main>-->
<!--    <article th:each="post : ${posts}">-->
<!--        <h3 th:text="${post.title}"></h3>-->
<!--        <p th:text="${post.body}"></p>-->
<!--       <button> <a th:href="@{/posts/{id}(id=${post.id})}">Update Post</a></button>-->
<!--    </article>-->
<!--</main>-->

<div class="card" th:each="post : ${posts}">
    <h5 class="card-header" th:text="${post.title}"></h5>
    <div class="card-body">
<!--        <h5 class="card-title">Special title treatment</h5>-->
        <p class="card-text" th:text="${post.body}"></p>
        <div style="text-align: end">
        <a th:href="@{/posts/{id}(id=${post.id})}">Go somewhere</a>
        </div>
    </div>
</div>
<th:block th:replace="partials/partials.html :: scripts"></th:block>
</body>
</html>